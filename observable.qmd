---
title: "observable"
editor: visual
server:
  type: shiny
---

```{r}

data=read_csv("data/anonymizedData.csv")%>%
  select(c("campus", "needsQuietStudy"))

ojs_define(data = data)
```

```{ojs}

```

```{ojs}

viewof campus = Inputs.checkbox(
  ["CAS", "GRAD"], 
  { value: ["CAS", "GRAD"], 
    label: "Campus:"
  }
)
```

```{ojs}
filtered = data.filter(function(needsQuietStudy) {
  return needsQuietStudy &&
         campus.includes(needsQuietStudy.campus);
})

console.log(filtered)
```

```{ojs}



Plot.plot({
  y: {
    grid: true,
    percent: true
  },
  marks: [
    Plot.ruleY([0]),
    Plot.barY(filtered, {x: "needsQuietStudy", y: "frequency", sort: {x: "y", reverse: true}})
  ]
})



```
